# Traffic Simulator

Учебный проект по моделированию дорожного движения на перекрёстке.  
Реализует пошаговую симуляцию движения транспортных средств и пешеходов с учётом светофоров, стоп-линий и заданных маршрутов.

Проект написан на Java и предназначен для изучения объектно-ориентированного проектирования, работы с абстракциями и разделения логики симуляции, конфигурации и визуализации.

---

## Основные возможности

- Моделирование различных участников дорожного движения:
  - легковые автомобили;
  - грузовые автомобили;
  - пешеходы.
- Работа с дорожной инфраструктурой:
  - светофоры для транспорта и пешеходов;
  - стоп-линии;
  - маршруты движения.
- Пошаговое обновление состояния симуляции во времени.
- Визуализация текущего состояния симуляции.
- Гибкая система конфигурации сценариев перекрёстка.

---

## Архитектура проекта

Проект разделён на логические модули, каждый из которых отвечает за свою часть системы.

### Участники дорожного движения

#### `TRoadUser` (абстрактный класс)
Базовый класс для всех участников дорожного движения.  
Содержит общие параметры и логику движения:
- позиция, скорость, ускорение;
- направление движения;
- ограничения на скорость и дистанции;
- ссылка на навигационную логику (`TRoadUserBrain`).

Обновление состояния происходит через метод `update(double dt, TrafficSimulationContext context)`.

#### Конкретные реализации
- `TCar` — легковой автомобиль;
- `TTruck` — грузовой автомобиль;
- `TPedestrian` — пешеход.

Каждый класс использует базовую логику, но с параметрами, характерными для конкретного типа участника.

#### `StoppingReason` (enum)
Перечисление возможных причин остановки участника дорожного движения.  
Используется для анализа поведения возле светофоров, стоп-линий и других объектов.

---

### Навигация

#### `TRoadUserBrain`
Отвечает за навигационную логику участника:
- хранит маршрут в виде списка точек;
- отслеживает текущую целевую точку;
- пересчитывает направление движения.

Позволяет отделить логику движения от физического состояния объекта.

---

### Дорожная инфраструктура

#### Светофоры
- `TrafficLight` — абстрактный базовый класс;
- `RoadTrafficLight` — светофор для транспорта;
- `PedestrianTrafficLight` — пешеходный светофор.

Состояния светофоров задаются перечислением `TrafficLightState`.  
Переключение сигналов происходит на основе времени.

#### `StopLine`
Моделирует стоп-линию и связывает её с конкретным светофором.

---

### Геометрия и математика

- `Point2D` — точка в двумерном пространстве;
- `Vector2D` — вектор направления и скорости;
- `Line2D` — отрезок (используется для стоп-линий);
- `Math` — набор статических методов для геометрических и математических расчётов
  (пересечения, расстояния, углы, сравнение с погрешностью).

---

### Симуляция

#### `TrafficSimulation`
Центральный класс приложения.  
Отвечает за:
- хранение состояния симуляции;
- обновление всех объектов;
- генерацию новых участников движения;
- перезапуск симуляции.

#### `TrafficSimulationContext`
Контейнер общего состояния:
- участники движения;
- стоп-линии;
- маршруты движения.

Используется для снижения связности между компонентами системы.

---

### Конфигурация

#### `TrafficSimulationConfiguration` (интерфейс)
Определяет контракт для задания сценария симуляции.

#### `TrafficSimulationConfigurationImpl`
Конкретная реализация конфигурации:
- добавляет светофоры;
- задаёт стоп-линии;
- определяет маршруты движения;
- инициализирует параметры симуляции.

Позволяет легко менять сценарий без изменения основной логики.

---

### Визуализация

#### `TrafficSimulationGraphics` (абстрактный класс)
Базовый класс визуализации симуляции.

#### `TrafficSimulationGraphicsImpl`
Реализация отрисовки:
- участников движения;
- стоп-линий;
- маршрутов;
- дополнительной отладочной информации.

---

## Используемые технологии

- Java
- JavaFX (для интерфейса и визуализации)
- IntelliJ IDEA

---

## Назначение проекта

Проект является учебным и предназначен для:
- закрепления принципов ООП;
- работы с абстрактными классами и интерфейсами;
- проектирования сложной системы с разделением ответственности;
- моделирования физических процессов во времени.

---

## Статус проекта

Проект находится в стадии разработки и может быть расширен:
- более сложной логикой поведения участников;
- поддержкой дополнительных типов перекрёстков;
- улучшенной визуализацией и интерфейсом.
